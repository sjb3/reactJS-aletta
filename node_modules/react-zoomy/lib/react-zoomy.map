{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap fac010acb783b6557ac6","webpack:///./src/react-zoomy.js","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack:///external \"styled-components\"","webpack:///external \"react-motion\"","webpack:///./~/css-to-matrix/dist/css-to-matrix.js","webpack:///./~/transform-to-matrix/transform-to-matrix.js","webpack:///./~/matrix-utilities/matrix-utilities.js","webpack:///./~/umodel/umodel.js"],"names":["ImageContainer","div","ReactZoomy","props","show","clientX","clientY","document","querySelector","style","overflowY","setState","isImageShowed","loading","cursorPosition","top","left","renderLoadingElement","slideImageIn","hide","imageMove","x","y","onMouseMoveOnImageContainer","onMouseMove","window","screenWidth","innerWidth","screenHeight","innerHeight","leftPercent","topPercent","onLoad","target","pictureLoaded","pictureHeight","clientHeight","pictureWidth","clientWidth","state","imageUrl","renderThumbnail","renderCursor","imageContainerProps","imageProps","scale","scaleX","scaleY","goSlow","val","stiffness","damping","opacity","cursor","pointerEvents","isImageLoaded","done","transform","translate","getMatrixCSS","showImage","propTypes","string","isRequired","func","object","array","defaultProps","root","factory","exports","module","require","define","umodel","transformToMatrix","matrixUtilities","_","rad","angle","parseFloat","isDegrees","indexOf","Math","PI","extend","a","b","key","fluent","fn","apply","arguments","isNumber","CssToMatrix","data","model","matrix","Identity","transformations","perspective","rotate","skew","prototype","length","TypeError","rows","columns","Error","set","getMatrix","get","t","multiply","flip","reduce","flat","row","push","join","rotateZ","rotateX","rotate3d","rotateY","scale3d","scaleZ","z","skewX","skewY","translate3d","translateX","translateY","translateZ","to3d","transformtomatrix","fns","d","c","n","cos","sin","i","rs","s","sqrt","tan","matrixutilities","util","add","one","two","j","result","value","_i","_j","_len","_len1","k","l","size","sum","to2d","__hasProp","hasOwnProperty","call","trim","head","tail","replace","_data","options","separator","events","trigger","_get","_split","old","_set","setnx","on","eventAndProperty","e","_results","_on","event","path","oldValue","_ref","_normalize","_results1","parent","accumulator","shift","nx","parts","property","split","charAt","slice"],"mappings":"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","file":"react-zoomy.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"styled-components\"), require(\"react-motion\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"styled-components\", \"react-motion\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactZoomImage\"] = factory(require(\"react\"), require(\"styled-components\"), require(\"react-motion\"));\n\telse\n\t\troot[\"ReactZoomImage\"] = factory(root[\"React\"], root[\"styled-components\"], root[\"react-motion\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"lib/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap fac010acb783b6557ac6","// export default  4;\nimport React, { Component, PropTypes } from 'react';\nimport styled from 'styled-components';\nimport { Motion, spring } from 'react-motion';\nimport CssToMatrix from 'css-to-matrix';\n\nconst ImageContainer = styled.div`\n  position: fixed;\n  z-index: 98;\n\n  // display: flex;\n  // justify-content: center;\n  // align-content: center;\n  text-align: center;\n\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: white;\n  z-index: 999;\n  opacity: 1;\n  pointer-events: none;\n\n  align-content: center;\n  justify-content: center;\n`;\n\nexport default class ReactZoomy extends Component {\n  static propTypes = {\n    imageUrl: PropTypes.string.isRequired,\n    renderThumbnail: PropTypes.func.isRequired,\n    renderCursor: PropTypes.func,\n    renderLoadingElement: PropTypes.func,\n    imageContainerProps: PropTypes.object,\n    imageProps: PropTypes.object,\n    scale: PropTypes.array\n  };\n\n  static defaultProps = {\n    scale: [1, 1]\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      pictureLoaded: false,\n      isImageShowed: false,\n      loading: false,\n      cursorPosition: {\n        top: 0,\n        left: 0\n      },\n      imageMove: {\n        x: 0,\n        y: 0\n      },\n      pictureHeight: null\n    };\n  }\n\n  show = ({ clientX, clientY }) => {\n    // Disable scrolling\n    document.querySelector('html').style.overflowY = 'hidden';\n\n    this.setState({\n      isImageShowed: true,\n      loading: true,\n      cursorPosition: {\n        top: clientY,\n        left: clientX\n      }\n    });\n\n    if (!this.props.renderLoadingElement) this.slideImageIn();\n  };\n\n  slideImageIn = () => {\n    this.setState({\n      loading: false\n    });\n  };\n\n  hide = () => {\n    document.querySelector('html').style.overflowY = 'initial';\n    this.setState({\n      isImageShowed: false,\n      imageMove: {\n        x: spring(0),\n        y: spring(0)\n      }\n    });\n  };\n\n  onMouseMoveOnImageContainer = ({ clientX, clientY}) => {\n    this.setState({\n      cursorPosition: {\n        top: clientY,\n        left: clientX\n      }\n    });\n  };\n\n  onMouseMove = ({ clientX, clientY }) => {\n    const {\n      innerWidth: screenWidth,\n      innerHeight: screenHeight\n    } = window;\n\n    const leftPercent = (clientX - screenWidth / 2) / screenWidth * 100;\n    const topPercent = (clientY - screenHeight / 2) / screenHeight * 100;\n    // console.log(topPercent);\n    this.setState({\n      imageMove: {\n        x: spring(leftPercent),\n        y: spring(topPercent)\n      }\n    });\n  };\n\n  onLoad = ({ target }) => {\n    this.setState({\n      pictureLoaded: true,\n      pictureHeight: target.clientHeight,\n      pictureWidth: target.clientWidth\n    });\n  };\n\n  render() {\n    const {\n      imageUrl,\n      renderThumbnail,\n      renderCursor,\n      renderLoadingElement,\n      imageContainerProps,\n      imageProps,\n      scale\n    } = this.props;\n    const {\n      pictureLoaded,\n      isImageShowed,\n      loading,\n      imageMove,\n      pictureHeight,\n      pictureWidth,\n      cursorPosition,\n    } = this.state;\n\n    const [scaleX, scaleY] = scale;\n\n    const goSlow = (val) => spring(val, {\n      stiffness: 126,\n      damping: 26\n    });\n\n    return (\n      <div>\n        <Motion style={{\n            x: (isImageShowed && pictureLoaded && !loading) ? goSlow(0) : goSlow(-100),\n            opacity: isImageShowed ? goSlow(1) : goSlow(0)\n          }}>\n          {({ x, opacity }) =>\n            <ImageContainer\n              {...imageContainerProps}\n              onMouseMove={this.onMouseMoveOnImageContainer}\n              style={{\n                opacity,\n                cursor: (renderCursor && isImageShowed) ? 'none' : 'pointer',\n                pointerEvents: isImageShowed ? 'auto' : 'none',\n                ...(imageContainerProps && imageContainerProps.style)\n              }}\n            >\n              {renderCursor && renderCursor({\n                style: {\n                  top: cursorPosition.top,\n                  left: cursorPosition.left\n                },\n                isImageShowed: isImageShowed\n              })}\n\n              {renderLoadingElement && renderLoadingElement({\n                isImageShowed: isImageShowed,\n                isImageLoaded: pictureLoaded,\n                done: this.slideImageIn\n              })}\n\n              <Motion style={imageMove}>\n                {(imageMove) =>\n                  <img\n                    {...imageProps}\n                    onMouseMove={this.onMouseMove}\n                    onClick={this.hide}\n                    onLoad={this.onLoad}\n                    style={{\n                      transform: new CssToMatrix()\n                        .scale(scaleX, scaleY)\n                        .translate(\n                          x * scaleX / 100 * pictureWidth - imageMove.x / 100 * (pictureWidth * scaleX - window.innerWidth),\n                          // 0\n                          - (pictureHeight - window.innerHeight) / 2 - imageMove.y / 100 * (pictureHeight * scaleY - window.innerHeight)\n                        )\n                        .getMatrixCSS(),\n                      ...(imageProps && imageProps.style)\n                    }}\n                    src={imageUrl}/>\n                }\n              </Motion>\n            </ImageContainer>\n          }\n        </Motion>\n\n        {renderThumbnail({ showImage: this.show })}\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/react-zoomy.js","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n// module id = 1\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"styled-components\"\n// module id = 2\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-motion\"\n// module id = 3\n// module chunks = 0","(function(root, factory) {\n    if(typeof exports === 'object') {\n        module.exports = factory(require('transform-to-matrix'), require('matrix-utilities'), require('umodel'));\n    }\n    else if(typeof define === 'function' && define.amd) {\n        define('css-to-matrix', ['transform-to-matrix', 'matrix-utilities', 'umodel'], factory);\n    }\n    else {\n        root['css-to-matrix'] = factory(root['transform-to-matrix'], root['matrix-utilities'], root.umodel);\n    }\n}(this, function(transformToMatrix, matrixUtilities, umodel) {\nvar _ = {\n\n  // convert strings like \"55deg\" or \".75rad\" to floats (in radians)\n  rad: function (string) {\n\n    if (typeof string === 'string') {\n\n      var angle = parseFloat(string, 10),\n          isDegrees = string.indexOf('deg') > -1\n\n      // convert deg -> rad?\n      if (isDegrees) angle *= Math.PI / 180 \n\n      return angle\n\n    }\n    \n    return string\n\n  },\n\n  // shallow object extend\n  extend: function (a, b) {\n\n    for (var key in b) {\n      a[key] = b[key]\n    }\n    \n    return a\n\n  },\n\n  // make functions return `this`, for easy chaining\n  fluent: function (fn) {\n\n    return function() {\n      fn.apply(this, arguments)\n      return this\n    }\n\n  },\n\n  isNumber: function (a) {\n    return typeof a === 'number'\n  }\n\n};\n\nfunction CssToMatrix (data) {\n\n  // default options\n  this.model = new umodel({\n    matrix: new matrixUtilities.Identity(),\n    transformations: {\n      perspective: new matrixUtilities.Identity(),\n      rotate: new matrixUtilities.Identity(),\n      scale: new matrixUtilities.Identity(),\n      skew: new matrixUtilities.Identity(),\n      translate: new matrixUtilities.Identity()\n    }\n  })\n\n  // set data?\n  if (data) {\n    this.matrix(data)\n  }\n\n}\n\n_.extend(CssToMatrix.prototype, {\n\n  // set matrix in model\n  matrix: function (data) {\n\n////DEV\n    if (data.length == null)\n      throw new TypeError('expected parameter `data` to be an Array, but was given a ' + typeof data)\n\n    var rows = data.length,\n        columns = rows > 0 ? rows : 0\n\n    if (rows !== 4 || columns !== 4)\n      throw new Error('expected parameter `data` to be a 4x4 matrix of arrays, but was given a ' + rows + 'x' + columns + ' matrix')\n////END DEV\n\n    this.model.set('matrix', data)\n\n  },\n\n  // apply transformations as defined in the model, and get back get calculated matrix\n  getMatrix: function() {\n\n    var matrix = this.model.get('matrix'),\n        t = this.model.get('transformations')\n\n    // perspective\n    matrix = matrixUtilities.multiply(matrix, t.perspective)\n\n    // translate\n    matrix = matrixUtilities.multiply(matrix, t.translate)\n\n    // rotate\n    matrix = matrixUtilities.multiply(matrix, t.rotate)\n\n    // skew\n    matrix = matrixUtilities.multiply(matrix, t.skew)\n\n    // scale\n    matrix = matrixUtilities.multiply(matrix, t.scale)\n\n    return matrixUtilities.flip(matrix)\n\n  },\n\n  // get matrix formatted as a string that can be plugged right into CSS's `transform` function \n  getMatrixCSS: function() {\n\n    return 'matrix3d('\n      + this\n        .getMatrix()\n        .reduce(function (flat, row) {\n          flat.push.apply(flat, row)\n          return flat\n        }, [])\n        .join(',')\n      + ')'\n\n  },\n\n  // transform functions\n  // 1-to-1 with their CSS equivalents\n  rotate: function (a) { return this.rotateZ(a) },\n  rotateX: function (a) { return this.rotate3d(1, 0, 0, a) },\n  rotateY: function (a) { return this.rotate3d(0, 1, 0, a) },\n  rotateZ: function (a) { return this.rotate3d(0, 0, 1, a) },\n  scale: function (x, y) { return this.scale3d(x, y) },\n  scaleX: function (x) { return this.scale3d(x) },\n  scaleY: function (y) { return this.scale3d(null, y) },\n  scaleZ: function (z) { return this.scale3d(null, null, z) },\n  skewX: function (x) { return this.skew(x) },\n  skewY: function (y) { return this.skew(null, y) },\n  translate: function (x, y) { return this.translate3d(x, y) },\n  translateX: function (x) { return this.translate3d(x) },\n  translateY: function (y) { return this.translate3d(null, y) },\n  translateZ: function (z) { return this.translate3d(null, null, z) },\n\n  perspective: _.fluent(function (x) {\n\n    if (x == null) { x = 0 }\n\n////DEV\n    if (!_.isNumber(x))\n      throw new TypeError('expected parameter `x` to be a Number, but was given a ' + typeof x)\n////END DEV\n\n    this.model.set('transformations/perspective', transformToMatrix.perspective(x))\n\n  }),\n\n  rotate3d: _.fluent(function (x, y, z, a) {\n\n    if (x == null) { x = 0 }\n    if (y == null) { y = 0 }\n    if (z == null) { z = 0 }\n    if (a == null) { a = 0 }\n\n////DEV\n    if (!_.isNumber(x))\n      throw new TypeError('expected parameter `x` to be a Number, but was given a ' + typeof x)\n    if (!_.isNumber(y))\n      throw new TypeError('expected parameter `y` to be a Number, but was given a ' + typeof y)\n    if (!_.isNumber(z))\n      throw new TypeError('expected parameter `z` to be a Number, but was given a ' + typeof z)\n////END DEV\n\n    // if angle was passed as a string, convert it to a float first\n    this.model.set('transformations/rotate', transformToMatrix.rotate3d(x, y, z, _.rad(a)))\n\n  }),\n\n  scale3d: _.fluent(function (x, y, z) {\n\n    if (x == null) { x = 1 }\n    if (y == null) { y = 1 }\n    if (z == null) { z = 1 }\n\n////DEV\n    if (!_.isNumber(x))\n      throw new TypeError('expected parameter `x` to be a Number, but was given a ' + typeof x)\n    if (!_.isNumber(y))\n      throw new TypeError('expected parameter `y` to be a Number, but was given a ' + typeof y)\n    if (!_.isNumber(z))\n      throw new TypeError('expected parameter `z` to be a Number, but was given a ' + typeof z)\n////END DEV\n\n    this.model.set('transformations/scale', transformToMatrix.scale3d(x, y, z))\n\n  }),\n\n  skew: _.fluent(function (x, y) {\n\n    if (x == null) { x = 0 }\n    if (y == null) { y = 0 }\n\n    this.model.set('transformations/skew', matrixUtilities.to3d(transformToMatrix.skew(_.rad(x), _.rad(y))))\n\n  }),\n\n  translate3d: _.fluent(function(x, y, z) {\n\n    if (x == null) { x = 0 }\n    if (y == null) { y = 0 }\n    if (z == null) { z = 0 }\n\n////DEV\n    if (!_.isNumber(x))\n      throw new TypeError('expected parameter `x` to be a Number, but was given a ' + typeof x)\n    if (!_.isNumber(y))\n      throw new TypeError('expected parameter `y` to be a Number, but was given a ' + typeof y)\n    if (!_.isNumber(z))\n      throw new TypeError('expected parameter `z` to be a Number, but was given a ' + typeof z)\n////END DEV\n\n    this.model.set('transformations/translate', transformToMatrix.translate3d(x, y, z))\n\n  })\n\n})\n    return CssToMatrix;\n}));\n\n\n// WEBPACK FOOTER //\n// ./~/css-to-matrix/dist/css-to-matrix.js","(function(root, factory) {\n    if(typeof exports === 'object') {\n        module.exports = factory();\n    }\n    else if(typeof define === 'function' && define.amd) {\n        define('transform-to-matrix', [], factory);\n    }\n    else {\n        root['transform-to-matrix'] = factory();\n    }\n}(this, function() {\nvar transformtomatrix;\n\ntransformtomatrix = (function() {\n  var fns;\n  return fns = {\n    perspective: function(d) {\n      return [[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, -1 / d, 1]];\n    },\n    rotate: function(a) {\n      return fns.rotateZ(a);\n    },\n    rotateX: function(a) {\n      return fns.rotate3d(1, 0, 0, a);\n    },\n    rotateY: function(a) {\n      return fns.rotate3d(0, 1, 0, a);\n    },\n    rotateZ: function(a) {\n      var c, n;\n      c = Math.cos(a);\n      n = Math.sin(a);\n      return [[c, -n, 0], [n, c, 0]];\n    },\n    rotate3d: function(x, y, z, a) {\n      var c, i, n, rs, s;\n      s = x * x + y * y + z * z;\n      c = Math.cos(a);\n      n = Math.sin(a);\n      i = 1 - c;\n      rs = Math.sqrt(s) * n;\n      return [[(x * x + (y * y + z * z) * c) / s, (x * y * i - z * rs) / s, (x * z * i + y * rs) / s, 0], [(x * y * i + z * rs) / s, (y * y + (x * x + z * z) * c) / s, (y * z * i - x * rs) / s, 0], [(x * z * i - y * rs) / s, (y * z * i + x * rs) / s, (z * z + (x * x + y * y) * c) / s, 0], [0, 0, 0, 1]];\n    },\n    scale: function(x, y) {\n      return [[x, 0, 0], [0, y, 0]];\n    },\n    scaleX: function(x) {\n      return fns.scale(x, 1);\n    },\n    scaleY: function(y) {\n      return fns.scale(1, y);\n    },\n    scaleZ: function(z) {\n      return fns.scale3d(1, 1, z);\n    },\n    scale3d: function(x, y, z) {\n      return [[x, 0, 0, 0], [0, y, 0, 0], [0, 0, z, 0], [0, 0, 0, 1]];\n    },\n    skew: function(x, y) {\n      return [[1, Math.tan(x), 0], [Math.tan(y), 1, 0]];\n    },\n    skewX: function(x) {\n      return [[1, Math.tan(x), 0], [0, 1, 0]];\n    },\n    skewY: function(y) {\n      return [[1, 0, 0], [Math.tan(y), 1, 0]];\n    },\n    translate: function(x, y) {\n      return [[1, 0, x], [0, 1, y]];\n    },\n    translateX: function(x) {\n      return fns.translate(x, 0);\n    },\n    translateY: function(y) {\n      return fns.translate(0, y);\n    },\n    translateZ: function(z) {\n      return fns.translate3d(0, 0, z);\n    },\n    translate3d: function(x, y, z) {\n      return [[1, 0, 0, x], [0, 1, 0, y], [0, 0, 1, z], [0, 0, 0, 1]];\n    }\n  };\n})();\n\n    return transformtomatrix;\n}));\n\n\n// WEBPACK FOOTER //\n// ./~/transform-to-matrix/transform-to-matrix.js","(function(root, factory) {\n    if(typeof exports === 'object') {\n        module.exports = factory();\n    }\n    else if(typeof define === 'function' && define.amd) {\n        define('matrix-utilities', [], factory);\n    }\n    else {\n        root['matrix-utilities'] = factory();\n    }\n}(this, function() {\nvar matrixutilities;\n\nmatrixutilities = (function() {\n  var util;\n  return util = {\n    add: function(one, two) {\n      var i, j, result, row, value, _i, _j, _len, _len1;\n      if (one.length !== two.length) {\n        throw new Error('Matrix y dimensions do not match');\n      }\n      result = [];\n      for (i = _i = 0, _len = one.length; _i < _len; i = ++_i) {\n        row = one[i];\n        if (row.length !== two[i].length) {\n          throw new Error(\"Matrix x dimensions do not match on row \" + (i + 1));\n        }\n        result[i] = [];\n        for (j = _j = 0, _len1 = row.length; _j < _len1; j = ++_j) {\n          value = row[j];\n          result[i][j] = value + two[i][j];\n        }\n      }\n      return result;\n    },\n    multiply: function(one, two) {\n      var j, k, l, result, row, size, sum, value, _i, _j, _len, _len1;\n      if (one[0].length !== two.length) {\n        throw new Error('Matrix 1\\'s row count should equal matrix 2\\'s column count');\n      }\n      size = one[0].length;\n      result = [];\n      for (j = _i = 0, _len = two.length; _i < _len; j = ++_i) {\n        row = two[j];\n        result[j] = [];\n        for (k = _j = 0, _len1 = row.length; _j < _len1; k = ++_j) {\n          value = row[k];\n          l = size;\n          sum = 0;\n          while (l--) {\n            sum += one[j][l] * two[l][k];\n          }\n          result[j][k] = sum;\n        }\n      }\n      return result;\n    },\n    flip: function(matrix) {\n      var j, k, result, row, value, _i, _j, _len, _len1;\n      result = [];\n      for (j = _i = 0, _len = matrix.length; _i < _len; j = ++_i) {\n        row = matrix[j];\n        for (k = _j = 0, _len1 = row.length; _j < _len1; k = ++_j) {\n          value = row[k];\n          (result[k] || (result[k] = []))[j] = value;\n        }\n      }\n      return result;\n    },\n    to2d: function(matrix) {\n      return [[matrix[0][0] || 1, matrix[0][1] || 0, matrix[0][3] || 0], [matrix[1][0] || 0, matrix[1][1] || 1, matrix[1][3] || 0]];\n    },\n    to3d: function(matrix) {\n      return [[matrix[0][0] || 1, matrix[0][1] || 0, 0, matrix[0][2] || 0], [matrix[1][0] || 0, matrix[1][1] || 1, 0, matrix[1][2] || 0], [0, 0, 1, 0], [0, 0, 0, 1]];\n    },\n    Identity: function() {\n      return [[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, 1]];\n    }\n  };\n})();\n\n    return matrixutilities;\n}));\n\n\n// WEBPACK FOOTER //\n// ./~/matrix-utilities/matrix-utilities.js","(function(root, factory) {\n    if(typeof exports === 'object') {\n        module.exports = factory();\n    }\n    else if(typeof define === 'function' && define.amd) {\n        define('umodel', [], factory);\n    }\n    else {\n        root.umodel = factory();\n    }\n}(this, function() {\nvar umodel, _,\n  __hasProp = {}.hasOwnProperty;\n\n_ = {\n  extend: function(a, b) {\n    var key;\n    for (key in b) {\n      if (!__hasProp.call(b, key)) continue;\n      a[key] = b[key];\n    }\n    return a;\n  },\n  trim: (function() {\n    var head, tail;\n    if (''.trim) {\n      return function(string) {\n        return string.trim();\n      };\n    } else {\n      head = /^\\s\\s*/;\n      tail = /\\s\\s*$/;\n      return function(string) {\n        return string.replace(head, '').replace(tail, '');\n      };\n    }\n  })()\n};\n\numodel = (function() {\n  function umodel(_data, options) {\n    this._data = _data != null ? _data : {};\n    this.options = {\n      separator: '/'\n    };\n    if (options) {\n      _.extend(this.options, options);\n    }\n    this.events = {};\n  }\n\n  umodel.prototype.get = function(key) {\n    this.trigger('get', key);\n    return this._get(this._split(key), this._data);\n  };\n\n  umodel.prototype.set = function(key, value) {\n    var old;\n    old = this._get(this._split(key), this._data);\n    this._set(this._split(key), value, false, this._data);\n    return this.trigger('set', key, value, old);\n  };\n\n  umodel.prototype.setnx = function(key, value) {\n    var old;\n    old = this._get(this._split(key), this._data);\n    this._set(this._split(key), value, true, this._data);\n    return this.trigger('setnx', key, value, old);\n  };\n\n  umodel.prototype.on = function(eventAndProperty, fn) {\n    var e, _results;\n    if (fn) {\n      return this._on(eventAndProperty, fn);\n    } else {\n      _results = [];\n      for (e in eventAndProperty) {\n        fn = eventAndProperty[e];\n        _results.push(this._on(e, fn));\n      }\n      return _results;\n    }\n  };\n\n  umodel.prototype.trigger = function(event, path, value, oldValue) {\n    var e, fn, fns, _ref, _results;\n    if (path == null) {\n      path = '*';\n    }\n    path = this._normalize(path);\n    if (event in this.events) {\n      _ref = this.events[event];\n      _results = [];\n      for (e in _ref) {\n        fns = _ref[e];\n        if (e === '*' || (path + '/').indexOf(e + '/') === 0) {\n          _results.push((function() {\n            var _i, _len, _results1;\n            _results1 = [];\n            for (_i = 0, _len = fns.length; _i < _len; _i++) {\n              fn = fns[_i];\n              if (oldValue != null) {\n                _results1.push(fn.call(this, path, value, oldValue));\n              } else {\n                _results1.push(fn.call(this, path, value));\n              }\n            }\n            return _results1;\n          }).call(this));\n        } else {\n          _results.push(void 0);\n        }\n      }\n      return _results;\n    }\n  };\n\n  umodel.prototype._get = function(key, parent, accumulator) {\n    var head;\n    if (accumulator == null) {\n      accumulator = [];\n    }\n    head = key.shift();\n    if (head) {\n      if (!(head in parent)) {\n        return void 0;\n      }\n      accumulator.push(head);\n      return this._get(key, parent[head], accumulator);\n    }\n    return parent;\n  };\n\n  umodel.prototype._set = function(key, value, nx, parent, accumulator) {\n    var head;\n    if (nx == null) {\n      nx = false;\n    }\n    if (accumulator == null) {\n      accumulator = [];\n    }\n    head = key.shift();\n    if (key.length) {\n      if (!(head in parent)) {\n        parent[head] = {};\n      }\n      accumulator.push(head);\n      return this._set(key, value, nx, parent[head], accumulator);\n    }\n    if (!(nx && head in parent)) {\n      return parent[head] = value;\n    }\n  };\n\n  umodel.prototype._on = function(eventAndProperty, fn) {\n    var event, events, parts, property, _i, _len, _results;\n    parts = eventAndProperty.split(':');\n    events = parts[0].split(' ');\n    property = this._normalize(parts[1] || '*');\n    _results = [];\n    for (_i = 0, _len = events.length; _i < _len; _i++) {\n      event = events[_i];\n      event = _.trim(event);\n      if (!(event in this.events)) {\n        this.events[event] = {};\n      }\n      if (!(property in this.events[event])) {\n        this.events[event][property] = [];\n      }\n      _results.push(this.events[event][property].push(fn));\n    }\n    return _results;\n  };\n\n  umodel.prototype._normalize = function(key) {\n    var separator;\n    separator = this.options.separator;\n    key = _.trim(key);\n    if (key.charAt(0) === separator) {\n      key = key.slice(1);\n    }\n    if (key.charAt(key.length - 1) === separator) {\n      key = key.slice(0, -1);\n    }\n    return key;\n  };\n\n  umodel.prototype._split = function(key) {\n    return (this._normalize(key)).split(this.options.separator);\n  };\n\n  return umodel;\n\n})();\n\n    return umodel;\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./~/umodel/umodel.js"],"sourceRoot":""}